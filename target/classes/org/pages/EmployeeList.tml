<html xmlns:t="http://tapestry.apache.org/schema/tapestry_5_4.xsd" xmlns:p="tapestry:parameter">
<t:header />
<head>
    <title>Employee List</title>
</head>
<body class="container">
<h2>Employee Details</h2>

<!-- Debugging: Show admin status -->
<p>Is Admin: ${isAdmin}</p>

<!-- Show "Add Employee" button only for Admins -->
<t:if test="isAdmin">
    <t:pagelink page="AddNewEmployee">
        <button type="button">Add New Employee</button>
    </t:pagelink>
</t:if>

<!-- Employee List -->
<t:grid source="employees" row="employee" rowsPerPage="4" pagerPosition="bottom">
    <p:idCell>
        <t:pagelink page="IndividualEmployee" context="employee.id">View Details</t:pagelink>
    </p:idCell>
</t:grid>
</body>
</html>
